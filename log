
***** CASE 1.a *****

***** MESSAGE *****

Joe > Is there a store near me?

***** MESSAGE LOG *****

Joe > {"mesg_id": 0, "datetime": "2016-09-20 09:49:15", "topic": "question", "state": "question", "link": null, "speaker": "Joe", "message": "Is there a store near me?", "data": {"text": "Is there a store near me?"}}

***** PRIOR STATUS *****

Prior tone: closing
Prior state: closing
Prior topic: opening
Change topic: Resetting to LOCATION

***** SEARCH  *****

AWSDataStore.search:{"action": "find store", "state": "opening"}
AWSDataStore.locationSearch:{'action': 'find store', 'state': 'opening'}
AWSDataStore.locationSearch - NO_LOCATION:{"action": "find store", "datastore_action": "location_search", "state": "opening"}

***** RESULT *****

{'action': 'find store', 'datastore_action': 'location_search', 'state': 'opening', 'ERROR_CODE': 'NO_LOCATION'}

***** RESPONSE *****

-> respondWithQuestion:{"action": "find store", "datastore_action": "location_search", "state": "opening", "ERROR_CODE": "NO_LOCATION"}

***** MESSAGE *****

Banter > Thank you for contacting Nordstrom. Where are you located?

***** MESSAGE LOG *****

Banter > {"mesg_id": 0, "datetime": "2016-09-20 09:49:16", "topic": "location", "state": "question", "link": null, "speaker": "Banter", "message": "Thank you for contacting Nordstrom. Where are you located?", "data": {"text": "Thank you for contacting Nordstrom. Where are you located?", "datastore_action": "location_search", "state": "opening", "link": null, "action": "find store", "ERROR_CODE": "NO_LOCATION"}}

***** CURRENT STATUS *****

Current state: question
Current topic: location

***********************************


***** CASE 1.b *****

***** MESSAGE *****

Joe > New York

***** MESSAGE LOG *****

Joe > {"mesg_id": 1, "datetime": "2016-09-20 09:49:16", "topic": "answer", "state": "answer", "link": null, "speaker": "Joe", "message": "New York", "data": {"text": "New York"}}

***** PRIOR STATUS *****

Prior tone: question
Prior state: question
Prior topic: location

***** SEARCH  *****

AWSDataStore.search:{"datastore_action": "location_search", "prior_subject": "1", "state": "question", "link": null}
AWSDataStore.search -> returning DID_NOT_UNDERSTAND

***** RESULT *****

{'datastore_action': 'location_search', 'prior_subject': '1', 'state': 'question', 'link': None, 'ERROR_CODE': 'DID_NOT_UNDERSTAND'}

***** RESPONSE *****

-> respondWithQuestion:{"datastore_action": "location_search", "prior_subject": "1", "state": "question", "link": null, "ERROR_CODE": "DID_NOT_UNDERSTAND"}

***** MESSAGE *****

Banter > Sorry, I don't understand your question. Can you please try to rephrase it?

***** MESSAGE LOG *****

Banter > {"mesg_id": 1, "datetime": "2016-09-20 09:49:16", "topic": "location", "state": "question", "link": null, "speaker": "Banter", "message": "Sorry, I don't understand your question. Can you please try to rephrase it?", "data": {"ERROR_CODE": "DID_NOT_UNDERSTAND", "datastore_action": "location_search", "state": "question", "link": null, "text": "Sorry, I don't understand your question. Can you please try to rephrase it?", "prior_subject": "1"}}

***** CURRENT STATUS *****

Current state: question
Current topic: location

***********************************


***** CASE 1.c *****

***** MESSAGE *****

Joe > 1

***** MESSAGE LOG *****

Joe > {"mesg_id": 2, "datetime": "2016-09-20 09:49:16", "topic": "answer", "state": "answer", "link": null, "speaker": "Joe", "message": "1", "data": {"text": "1"}}

***** PRIOR STATUS *****

Prior tone: answer
Prior state: question
Prior topic: location
Inherit topic: LOCATION

***** SEARCH  *****

AWSDataStore.search:{"datastore_action": "location_search", "state": "question", "link": null, "rownum": "1", "prior_subject": "1"}
AWSDataStore.search -> returning DID_NOT_UNDERSTAND

***** RESULT *****

{'datastore_action': 'location_search', 'state': 'question', 'link': None, 'ERROR_CODE': 'DID_NOT_UNDERSTAND', 'rownum': '1', 'prior_subject': '1'}

***** RESPONSE *****

-> respondWithQuestion:{"datastore_action": "location_search", "state": "question", "link": null, "ERROR_CODE": "DID_NOT_UNDERSTAND", "rownum": "1", "prior_subject": "1"}

***** MESSAGE *****

Banter > Sorry, I don't understand your question. Can you please try to rephrase it?

***** MESSAGE LOG *****

Banter > {"mesg_id": 2, "datetime": "2016-09-20 09:49:16", "topic": "location", "state": "question", "link": null, "speaker": "Banter", "message": "Sorry, I don't understand your question. Can you please try to rephrase it?", "data": {"datastore_action": "location_search", "state": "question", "link": null, "text": "Sorry, I don't understand your question. Can you please try to rephrase it?", "ERROR_CODE": "DID_NOT_UNDERSTAND", "rownum": "1", "prior_subject": "1"}}

***** CURRENT STATUS *****

Current state: question
Current topic: location

***********************************


***** CASE 2.a *****

***** MESSAGE *****

Joe > What are Stanford's hours?

***** MESSAGE LOG *****

Joe > {"mesg_id": 3, "datetime": "2016-09-20 09:49:16", "topic": "question", "state": "question", "link": null, "speaker": "Joe", "message": "What are Stanford's hours?", "data": {"text": "What are Stanford's hours?"}}

***** PRIOR STATUS *****

Prior tone: answer
Prior state: question
Prior topic: location
Change topic: Resetting to DATETIME

***** SEARCH  *****

AWSDataStore.search:{"action": "ask time", "state": "question", "location": "Stanford", "datetime": "time"}
AWSDataStore.locationQuestion:{'action': 'ask time', 'state': 'question', 'location': 'Stanford', 'datetime': 'time'}
AWSDataStore.findProduct{'action': 'ask time', 'datastore_action': 'location_question', 'state': 'question', 'location': 'Stanford', 'datetime': 'time'}
AWSDataStore seach query{'query': {'bool': {'filter': [{'match': {'businessID': 'nordstrom'}}], 'should': [{'match': {'city': {'query': 'Stanford', 'boost': 10}}}, {'match': {'name': {'query': 'Stanford', 'boost': 5}}}]}}, 'size': 10}
AWSDataStore 118 documents found
AWSDataStore.locations[{'city': u'Palo Alto', 'docID': u'id=422_nordstrom', 'name': u'Nordstrom Stanford Shopping Center', 'score': 0.58894, 'address': u'550 Stanford Shopping Center', 'id': u'422_nordstrom'}]

***** RESULT *****

{'datetime': 'time', 'datastore_action': 'location_question', 'state': 'question', 'location': 'Stanford', 'action': 'ask time', 'datastore_location': {'number': '422', 'zipCode': u'94304', 'hours': {u'wed': u'10am-9pm', u'sun': u'11am-7pm', u'fri': u'10am-9pm', u'thr': u'10am-9pm', u'mon': u'10am-9pm', u'tue': u'10am-9pm', u'sat': u'10am-9pm'}, 'address': u'550 Stanford Shopping Center', 'services': None, 'id': u'422_nordstrom', 'city': u'Palo Alto', 'name': u'Nordstrom Stanford Shopping Center', 'state': u'CA', 'phoneNumber': u'650.323.5111', 'location': u'37.4422,-122.1724', 'type': u'FullLineStore'}}

***** RESPONSE *****

-> respondWithAnswer DATA:{"datetime": "time", "datastore_action": "location_question", "state": "question", "location": "Stanford", "action": "ask time", "datastore_location": {"number": "422", "zipCode": "94304", "hours": {"wed": "10am-9pm", "sun": "11am-7pm", "fri": "10am-9pm", "thr": "10am-9pm", "mon": "10am-9pm", "tue": "10am-9pm", "sat": "10am-9pm"}, "address": "550 Stanford Shopping Center", "services": null, "id": "422_nordstrom", "city": "Palo Alto", "name": "Nordstrom Stanford Shopping Center", "state": "CA", "phoneNumber": "650.323.5111", "location": "37.4422,-122.1724", "type": "FullLineStore"}}

***** MESSAGE *****

Banter > Nordstrom Stanford Shopping Center Palo Alto is open from 10am until 9pm today.

***** MESSAGE LOG *****

Banter > {"mesg_id": 3, "datetime": "2016-09-20 09:49:17", "topic": "datetime", "state": "answer", "link": null, "speaker": "Banter", "message": "Nordstrom Stanford Shopping Center Palo Alto is open from 10am until 9pm today.", "data": {"text": "Nordstrom Stanford Shopping Center Palo Alto is open from 10am until 9pm today.", "datetime": "time", "datastore_action": "location_question", "state": "question", "link": null, "location": "Stanford", "action": "ask time", "datastore_location": {"number": "422", "zipCode": "94304", "hours": {"wed": "10am-9pm", "sun": "11am-7pm", "fri": "10am-9pm", "thr": "10am-9pm", "mon": "10am-9pm", "tue": "10am-9pm", "sat": "10am-9pm"}, "address": "550 Stanford Shopping Center", "services": null, "id": "422_nordstrom", "city": "Palo Alto", "name": "Nordstrom Stanford Shopping Center", "state": "CA", "phoneNumber": "650.323.5111", "location": "37.4422,-122.1724", "type": "FullLineStore"}}}

***** CURRENT STATUS *****

Current state: answer
Current topic: datetime

***********************************


***** CASE 2.b *****

***** MESSAGE *****

Joe > What time does it open tomorrow?

***** MESSAGE LOG *****

Joe > {"mesg_id": 4, "datetime": "2016-09-20 09:49:17", "topic": "question", "state": "question", "link": null, "speaker": "Joe", "message": "What time does it open tomorrow?", "data": {"text": "What time does it open tomorrow?"}}

***** PRIOR STATUS *****

Prior tone: question
Prior state: answer
Prior topic: datetime

***** SEARCH  *****

AWSDataStore.search:{"datetime": "tomorrow", "datastore_action": "location_question", "descriptor": "open", "state": "answer", "link": null, "location": "Stanford", "action": "ask time", "datastore_location": {"number": "422", "zipCode": "94304", "hours": {"wed": "10am-9pm", "sun": "11am-7pm", "fri": "10am-9pm", "thr": "10am-9pm", "mon": "10am-9pm", "tue": "10am-9pm", "sat": "10am-9pm"}, "address": "550 Stanford Shopping Center", "services": null, "id": "422_nordstrom", "city": "Palo Alto", "name": "Nordstrom Stanford Shopping Center", "state": "CA", "phoneNumber": "650.323.5111", "location": "37.4422,-122.1724", "type": "FullLineStore"}, "prior_subject": "1"}
AWSDataStore.locationQuestion:{'datetime': 'tomorrow', 'datastore_action': 'location_question', 'descriptor': 'open', 'state': 'answer', 'link': None, 'location': 'Stanford', 'action': 'ask time', 'datastore_location': {'number': '422', 'zipCode': u'94304', 'hours': {u'wed': u'10am-9pm', u'sun': u'11am-7pm', u'fri': u'10am-9pm', u'thr': u'10am-9pm', u'mon': u'10am-9pm', u'tue': u'10am-9pm', u'sat': u'10am-9pm'}, 'address': u'550 Stanford Shopping Center', 'services': None, 'id': u'422_nordstrom', 'city': u'Palo Alto', 'name': u'Nordstrom Stanford Shopping Center', 'state': u'CA', 'phoneNumber': u'650.323.5111', 'location': u'37.4422,-122.1724', 'type': u'FullLineStore'}, 'prior_subject': '1'}
AWSDataStore.findProduct{'datetime': 'tomorrow', 'datastore_action': 'location_question', 'descriptor': 'open', 'state': 'answer', 'link': None, 'location': 'Stanford', 'action': 'ask time', 'datastore_location': {'number': '422', 'zipCode': u'94304', 'hours': {u'wed': u'10am-9pm', u'sun': u'11am-7pm', u'fri': u'10am-9pm', u'thr': u'10am-9pm', u'mon': u'10am-9pm', u'tue': u'10am-9pm', u'sat': u'10am-9pm'}, 'address': u'550 Stanford Shopping Center', 'services': None, 'id': u'422_nordstrom', 'city': u'Palo Alto', 'name': u'Nordstrom Stanford Shopping Center', 'state': u'CA', 'phoneNumber': u'650.323.5111', 'location': u'37.4422,-122.1724', 'type': u'FullLineStore'}, 'prior_subject': '1'}
AWSDataStore seach query{'query': {'bool': {'filter': [{'match': {'businessID': 'nordstrom'}}], 'should': [{'match': {'city': {'query': 'Stanford', 'boost': 10}}}, {'match': {'name': {'query': 'Stanford', 'boost': 5}}}]}}, 'size': 10}
AWSDataStore 118 documents found
AWSDataStore.locations[{'city': u'Palo Alto', 'docID': u'id=422_nordstrom', 'name': u'Nordstrom Stanford Shopping Center', 'score': 0.58894, 'address': u'550 Stanford Shopping Center', 'id': u'422_nordstrom'}]

***** RESULT *****

{'datetime': 'tomorrow', 'datastore_action': 'location_question', 'descriptor': 'open', 'state': 'answer', 'link': None, 'location': 'Stanford', 'action': 'ask time', 'datastore_location': {'number': '422', 'zipCode': u'94304', 'hours': {u'wed': u'10am-9pm', u'sun': u'11am-7pm', u'fri': u'10am-9pm', u'thr': u'10am-9pm', u'mon': u'10am-9pm', u'tue': u'10am-9pm', u'sat': u'10am-9pm'}, 'address': u'550 Stanford Shopping Center', 'services': None, 'id': u'422_nordstrom', 'city': u'Palo Alto', 'name': u'Nordstrom Stanford Shopping Center', 'state': u'CA', 'phoneNumber': u'650.323.5111', 'location': u'37.4422,-122.1724', 'type': u'FullLineStore'}, 'prior_subject': '1'}

***** RESPONSE *****

-> respondWithAnswer DATA:{"datetime": "tomorrow", "datastore_action": "location_question", "descriptor": "open", "state": "answer", "link": null, "location": "Stanford", "action": "ask time", "datastore_location": {"number": "422", "zipCode": "94304", "hours": {"wed": "10am-9pm", "sun": "11am-7pm", "fri": "10am-9pm", "thr": "10am-9pm", "mon": "10am-9pm", "tue": "10am-9pm", "sat": "10am-9pm"}, "address": "550 Stanford Shopping Center", "services": null, "id": "422_nordstrom", "city": "Palo Alto", "name": "Nordstrom Stanford Shopping Center", "state": "CA", "phoneNumber": "650.323.5111", "location": "37.4422,-122.1724", "type": "FullLineStore"}, "prior_subject": "1"}

***** MESSAGE *****

Banter > Nordstrom Stanford Shopping Center Palo Alto opens at 10am tomorrow.

***** MESSAGE LOG *****

Banter > {"mesg_id": 4, "datetime": "2016-09-20 09:49:18", "topic": "datetime", "state": "answer", "link": null, "speaker": "Banter", "message": "Nordstrom Stanford Shopping Center Palo Alto opens at 10am tomorrow.", "data": {"text": "Nordstrom Stanford Shopping Center Palo Alto opens at 10am tomorrow.", "datetime": "tomorrow", "datastore_action": "location_question", "descriptor": "open", "state": "answer", "link": null, "location": "Stanford", "action": "ask time", "datastore_location": {"number": "422", "zipCode": "94304", "hours": {"wed": "10am-9pm", "sun": "11am-7pm", "fri": "10am-9pm", "thr": "10am-9pm", "mon": "10am-9pm", "tue": "10am-9pm", "sat": "10am-9pm"}, "address": "550 Stanford Shopping Center", "services": null, "id": "422_nordstrom", "city": "Palo Alto", "name": "Nordstrom Stanford Shopping Center", "state": "CA", "phoneNumber": "650.323.5111", "location": "37.4422,-122.1724", "type": "FullLineStore"}, "prior_subject": "1"}}

***** CURRENT STATUS *****

Current state: answer
Current topic: datetime

***********************************


***** CASE 3 *****

***** MESSAGE *****

Joe > I need new red boots with size 6

***** MESSAGE LOG *****

Joe > {"mesg_id": 5, "datetime": "2016-09-20 09:49:18", "topic": "question", "state": "question", "link": null, "speaker": "Joe", "message": "I need new red boots with size 6", "data": {"text": "I need new red boots with size 6"}}

***** PRIOR STATUS *****

Prior tone: question
Prior state: answer
Prior topic: datetime
Change topic: Resetting to BOOTS

***** SEARCH  *****

AWSDataStore.search:{"action": "find", "color": "red", "state": "answer", "goods": "boots:boot", "size": "6"}
AWSDataStore.productSearch{'action': 'find', 'color': 'red', 'state': 'answer', 'goods': 'boots:boot', 'size': '6'}
AWSDataStore search query:{'query': {'bool': {'filter': [{'term': {'businessID': 'nordstrom'}}], 'should': [], 'must': [{'match': {'colors': {'query': 'red'}}}, {'bool': {'should': [{'match': {'categories': {'query': 'boot'}}}, {'match': {'categories': {'query': 'boots'}}}]}}, {'bool': {'should': [{'match': {'title': {'query': 'boot'}}}, {'match': {'description': {'query': 'boot'}}}, {'match': {'categories': {'query': 'boot'}}}, {'match': {'details': {'query': 'boot'}}}, {'match': {'features': {'query': 'boot'}}}]}}, {'bool': {'should': [{'match': {'sizes': {'query': 'size6size'}}}, {'match': {'size_desc': {'query': '6'}}}]}}]}}}
AWSDataStore - 3 documents found
(u'AWSDataStore found doc: id=3993003_nordstrom) 0.95474744', u'3993003_nordstrom', u"'Ballard' Lace-Up Boot (Women)")
(u'AWSDataStore found doc: id=4144181_nordstrom) 0.73215795', u'4144181_nordstrom', u"'Yale' Chelsea Boot (Women)")
(u'AWSDataStore found doc: id=4106432_nordstrom) 0.51667', u'4106432_nordstrom', u"'Kristin - Classic Slim")
AWSDataStore.productSearch -> response{'datastore_products': [{'score': 0.95474744, 'docID': u'id=3993003_nordstrom', 'id': u'3993003_nordstrom'}, {'score': 0.73215795, 'docID': u'id=4144181_nordstrom', 'id': u'4144181_nordstrom'}, {'score': 0.51667, 'docID': u'id=4106432_nordstrom', 'id': u'4106432_nordstrom'}], 'goods': 'boots:boot', 'color': 'red', 'datastore_action': 'product_search', 'state': 'answer', 'action': 'find', 'size': '6'}

***** RESULT *****

{'datastore_products': [{'score': 0.95474744, 'docID': u'id=3993003_nordstrom', 'id': u'3993003_nordstrom'}, {'score': 0.73215795, 'docID': u'id=4144181_nordstrom', 'id': u'4144181_nordstrom'}, {'score': 0.51667, 'docID': u'id=4106432_nordstrom', 'id': u'4106432_nordstrom'}], 'goods': 'boots:boot', 'color': 'red', 'datastore_action': 'product_search', 'state': 'answer', 'action': 'find', 'size': '6'}

***** RESPONSE *****

-> respondWithAnswer DATA:{"datastore_products": [{"score": 0.95474744, "docID": "id=3993003_nordstrom", "id": "3993003_nordstrom"}, {"score": 0.73215795, "docID": "id=4144181_nordstrom", "id": "4144181_nordstrom"}, {"score": 0.51667, "docID": "id=4106432_nordstrom", "id": "4106432_nordstrom"}], "goods": "boots:boot", "color": "red", "datastore_action": "product_search", "state": "answer", "action": "find", "size": "6"}

***** MESSAGE *****

Banter > Here are the best options for you:

***** MESSAGE LOG *****

Banter > {"mesg_id": 5, "datetime": "2016-09-20 09:49:19", "topic": "boots", "state": "answer", "link": "http://nordstrom.banter.ai/products?partner=nordstrom&color=red&pid=3993003_nordstrom&pid=4144181_nordstrom&pid=4106432_nordstrom", "speaker": "Banter", "message": "Here are the best options for you:", "data": {"datastore_products": [{"score": 0.95474744, "docID": "id=3993003_nordstrom", "id": "3993003_nordstrom"}, {"score": 0.73215795, "docID": "id=4144181_nordstrom", "id": "4144181_nordstrom"}, {"score": 0.51667, "docID": "id=4106432_nordstrom", "id": "4106432_nordstrom"}], "goods": "boots:boot", "color": "red", "text": "Here are the best options for you:", "datastore_action": "product_search", "state": "answer", "link": "http://nordstrom.banter.ai/products?partner=nordstrom&color=red&pid=3993003_nordstrom&pid=4144181_nordstrom&pid=4106432_nordstrom", "action": "find", "size": "6"}}

***** CURRENT STATUS *****

Current state: answer
Current topic: boots

***********************************


***** CASE 4 *****

***** MESSAGE *****

Joe > I'm looking for some shoes

***** MESSAGE LOG *****

Joe > {"mesg_id": 6, "datetime": "2016-09-20 09:49:19", "topic": "question", "state": "question", "link": null, "speaker": "Joe", "message": "I'm looking for some shoes", "data": {"text": "I'm looking for some shoes"}}

***** PRIOR STATUS *****

Prior tone: question
Prior state: answer
Prior topic: boots
Change topic: Resetting to SHOE

***** SEARCH  *****

AWSDataStore.search:{"action": "find", "state": "answer", "goods": "shoe:shoe"}
AWSDataStore.productSearch{'action': 'find', 'state': 'answer', 'goods': 'shoe:shoe'}
AWSDataStore search query:{'query': {'bool': {'filter': [{'term': {'businessID': 'nordstrom'}}], 'should': [], 'must': [{'bool': {'should': [{'match': {'categories': {'query': 'shoe'}}}, {'match': {'categories': {'query': 'shoes'}}}]}}, {'bool': {'should': [{'match': {'title': {'query': 'shoe'}}}, {'match': {'description': {'query': 'shoe'}}}, {'match': {'categories': {'query': 'shoe'}}}, {'match': {'details': {'query': 'shoe'}}}, {'match': {'features': {'query': 'shoe'}}}]}}]}}}
AWSDataStore - 452 documents found
AWSDataStore.productSearch - TOO_MANY:{"datastore_products": [], "goods": "shoe:shoe", "datastore_action": "product_search", "state": "answer", "action": "find", "ERROR_CODE": "TOO_MANY"}

***** RESULT *****

{'datastore_products': [], 'goods': 'shoe:shoe', 'datastore_action': 'product_search', 'state': 'answer', 'action': 'find', 'ERROR_CODE': 'TOO_MANY'}

***** RESPONSE *****

-> respondWithQuestion:{"datastore_products": [], "goods": "shoe:shoe", "datastore_action": "product_search", "state": "answer", "action": "find", "ERROR_CODE": "TOO_MANY"}

***** MESSAGE *****

Banter > I can help you with that. We've got a wide variety of shoes. Can you help me narrow it down a bit by specifying a style, color, occasion, size, price or brand?

***** MESSAGE LOG *****

Banter > {"mesg_id": 6, "datetime": "2016-09-20 09:49:19", "topic": "shoe", "state": "question", "link": null, "speaker": "Banter", "message": "I can help you with that. We've got a wide variety of shoes. Can you help me narrow it down a bit by specifying a style, color, occasion, size, price or brand?", "data": {"datastore_products": [], "goods": "shoe:shoe", "text": "I can help you with that. We've got a wide variety of shoes. Can you help me narrow it down a bit by specifying a style, color, occasion, size, price or brand?", "datastore_action": "product_search", "state": "answer", "link": null, "action": "find", "ERROR_CODE": "TOO_MANY"}}

***** CURRENT STATUS *****

Current state: question
Current topic: shoe

***********************************

***** MESSAGE *****

Joe > Nike or gucci, black

***** MESSAGE LOG *****

Joe > {"mesg_id": 7, "datetime": "2016-09-20 09:49:19", "topic": "question", "state": "question", "link": null, "speaker": "Joe", "message": "Nike or gucci, black", "data": {"text": "Nike or gucci, black"}}

***** PRIOR STATUS *****

Prior tone: question
Prior state: question
Prior topic: shoe
Inherit topic: SHOE

***** SEARCH  *****

AWSDataStore.search:{"datastore_action": "product_search", "goods": "shoe:shoe", "color": "black", "brand": "nike,gucci", "datastore_products": [], "state": "question", "link": null, "action": "find", "prior_subject": "1"}
AWSDataStore.productSearch{'datastore_action': 'product_search', 'goods': 'shoe:shoe', 'color': 'black', 'brand': 'nike,gucci', 'datastore_products': [], 'state': 'question', 'link': None, 'action': 'find', 'prior_subject': '1'}
AWSDataStore search query:{'query': {'bool': {'filter': [{'term': {'businessID': 'nordstrom'}}], 'should': [], 'must': [{'match': {'colors': {'query': 'black'}}}, {'match': {'brand': {'query': 'nike'}}}, {'match': {'brand': {'query': 'gucci'}}}, {'bool': {'should': [{'match': {'categories': {'query': 'shoe'}}}, {'match': {'categories': {'query': 'shoes'}}}]}}, {'bool': {'should': [{'match': {'title': {'query': 'shoe'}}}, {'match': {'description': {'query': 'shoe'}}}, {'match': {'categories': {'query': 'shoe'}}}, {'match': {'details': {'query': 'shoe'}}}, {'match': {'features': {'query': 'shoe'}}}]}}]}}}
AWSDataStore - 0 documents found
AWSDataStore.productSearch -> response{'datastore_action': 'product_search', 'goods': 'shoe:shoe', 'color': 'black', 'brand': 'nike,gucci', 'datastore_products': [], 'state': 'question', 'link': None, 'action': 'find', 'prior_subject': '1'}

***** RESULT *****

{'datastore_action': 'product_search', 'goods': 'shoe:shoe', 'color': 'black', 'brand': 'nike,gucci', 'datastore_products': [], 'state': 'question', 'link': None, 'action': 'find', 'prior_subject': '1'}

***** RESPONSE *****

-> respondWithAnswer DATA:{"datastore_action": "product_search", "goods": "shoe:shoe", "color": "black", "brand": "nike,gucci", "datastore_products": [], "state": "question", "link": null, "action": "find", "prior_subject": "1"}

***** MESSAGE *****

Banter > We could not find any products that match that.

***** MESSAGE LOG *****

Banter > {"mesg_id": 7, "datetime": "2016-09-20 09:49:20", "topic": "shoe", "state": "answer", "link": null, "speaker": "Banter", "message": "We could not find any products that match that.", "data": {"datastore_action": "product_search", "goods": "shoe:shoe", "color": "black", "text": "We could not find any products that match that.", "brand": "nike,gucci", "datastore_products": [], "state": "question", "link": null, "action": "find", "prior_subject": "1"}}

***** CURRENT STATUS *****

Current state: answer
Current topic: shoe

***********************************

